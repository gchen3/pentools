% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{roll_pv}
\alias{roll_pv}
\title{Rolling Present Value Calculation}
\usage{
roll_pv(rate, g = 0, nper, pmt_vec, t = 1)
}
\arguments{
\item{rate}{Numeric. The interest rate per period (e.g., 0.05 for 5%).}

\item{g}{Numeric. The growth rate of payments per period (default is 0).}

\item{nper}{Integer. The total number of periods (e.g., 10 for 10 periods).}

\item{pmt_vec}{Numeric vector. A vector of payment amounts over the periods.
The first value in this vector must be zero.}

\item{t}{Integer. Timing of payments:
- \code{t = 1}: Payments occur at the end of the period (default).
- \code{t = 0}: Payments occur at the beginning of the period.}
}
\value{
Numeric vector. A vector containing the rolling present values for each period.
}
\description{
This function computes the rolling present value of a series of payments (cash flows) over time.
The first value in the \code{pmt_vec} vector must be zero, as it is a placeholder for calculations.
}
\details{
The rolling present value is calculated iteratively:
\itemize{
  \item For the first period (\code{i = 1}), the present value is calculated using the \code{pv} function for the second payment.
  \item For subsequent periods (\code{i > 1}), the present value is updated by rolling forward the previous value with interest
  and subtracting the adjusted payment.
}
The formula for the rolling present value is:
\deqn{PV[i] = PV[i-1] \cdot (1 + rate) - pmt_vec[i] \cdot (1 + rate)^{1 - t}}
}
\examples{
# Example: Calculate rolling PV for a series of payments
pmt_vec <- c(0, 1000, 1200, 1300, 1100, 1400)
roll_pv(rate = 0.05, g = 0.02, nper = 10, pmt_vec = pmt_vec, t = 1)

}
\seealso{
\code{\link{pv}} for the present value calculation used within this function.
}
