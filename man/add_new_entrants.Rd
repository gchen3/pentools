% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{add_new_entrants}
\alias{add_new_entrants}
\title{Add New Entrants to Workforce Matrix}
\usage{
add_new_entrants(g, ne_dist, wf1, wf2, ea, age, position_matrix)
}
\arguments{
\item{g}{Numeric. The assumed population growth rate of the plan as a decimal (e.g., 0.02 for 2%).}

\item{ne_dist}{Numeric vector. A vector representing the distribution of new entrants
for each entry age. Should sum to 1.0.}

\item{wf1}{Numeric vector or matrix. The workforce population in period 1 (before decrements).}

\item{wf2}{Numeric vector or matrix. The workforce population after decrements have been applied.}

\item{ea}{Numeric vector. A vector of entry ages for new entrants.}

\item{age}{Numeric vector. A vector of all possible ages in the workforce.}

\item{position_matrix}{Numeric matrix. A matrix that maps new entrant entry ages to the
correct positions in the workforce age structure.}
}
\value{
Numeric matrix. A matrix containing the number of new entrants positioned
        correctly by entry age and current age to be added to the active workforce.
}
\description{
This function calculates the number of new entrants needed to maintain workforce growth
and distributes them across entry ages, positioning them correctly in the workforce matrix.
}
\details{
The function works in three steps:
\enumerate{
  \item Calculates total new entrants needed: \code{ne = sum(wf1) * (1 + g) - sum(wf2)}
  \item Distributes new entrants by entry age: \code{ne_vec = ne * ne_dist}
  \item Positions new entrants in the workforce matrix using the position matrix
}
The position_matrix ensures new entrants are placed at the correct intersection of
entry age and current age in the workforce structure.
}
\examples{
# Example with workforce growth
g <- 0.02  # 2\% growth
ne_dist <- c(0.3, 0.4, 0.2, 0.1)  # Distribution across 4 entry ages
wf1 <- c(1000, 1200, 1100, 900)  # Initial workforce
wf2 <- c(980, 1150, 1050, 850)   # Workforce after decrements
ea <- c(25, 30, 35, 40)           # Entry ages
age <- c(25, 30, 35, 40, 45, 50)  # All possible ages

# Create position matrix (simplified example)
position_matrix <- matrix(0, nrow = length(ea), ncol = length(age))
diag(position_matrix) <- 1  # New entrants enter at their entry age

add_new_entrants(g, ne_dist, wf1, wf2, ea, age, position_matrix)

}
